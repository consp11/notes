Джойстик

Посмотреть, есть ли джойстик
ls -l /dev/input/js* /dev/js*
если джойстик есть, то выводит что-то типа
crw-rw-r--+ 1 root input 13, 0 фев 14 21:26  /dev/input/js0

----------------------------------------------------------------
cat /proc/uptime
2183.55 7083.48

Выводит время функционирования компьютера и время, проведённое в режиме ожидания (похоже, сумма на все процессорные ядра)

Команда
uptime
также выводит время, но в другом виде

----------------------------------------------------------------
Логи

Посмотреть логи, которые занимают больше всего места
# S - сортировка по размеру, h - удобный для чтения человеком формат вывода размера файла, a - выводить все файлы, l - длинный формат
ls -alhS /var/log/*.log

Выводит информацию, залогированную в kernel ring buffer (кольцевой буфер ядра)
dmesg
Очистка (он очищает какой-то буфер, но не логи)
dmesg --clear


Команда выводит историю команд в терминале (кажется, она неполная)
history
Узнать, откуда берётся history
echo $HISTFILE

# history может не записывать команды, начинающиеся с пробела
Удаление лога команд bash (но не остальных логов!) - тоже работает внутри терминала, или надо в ~/.bashrc прописывать
export HISTFILE=/dev/null
Либо ограничение на сохранённое количество 
export HISTSIZE=0
export HISTFILESIZE=0

Либо через команды оболочки: действует только в одном терминале либо надо прописывать в ~/.bashrc
set +o history - отключить историю bash
set -o history - включить историю

shopt -s histappend


Информация о командах, отдаваемых в командной строке может быть сохранена, как минимум, в
/var/log/syslog
/var/log/kern.log

# https://www.securitylab.ru/analytics/520469.php
/var/log/auth.log Аутентификация
/var/log/cron.log Cron задачи

Перезатирание файла лога, эквивалентные способы
Первый способ работает в большем количестве случаев, как мне кажется
truncate -s 0 /var/log/ufw.log
cat /dev/null > /var/log/ufw.log
> /var/log/ufw.log
echo '' > /var/log/ufw.log

Данная команда выдаст журнал для сервиса "vinny@10010.service"
journalctl -u vinny@10010.service


Для того, чтобы узнать, сколько времени прошло с момента старта операционной системы, есть команда uptime
Очистка логов одновременно с выводом строк лога, содержащих строку "DNS"
dmesg | grep DNS ; sudo dmesg --clear

Посмотреть, по какому пути расположена программа
which yandex-disk
/usr/bin/yandex-disk

Чтобы посмотреть все открытые соединения по IPv4
netstat -a4n





    /var/log/syslog или /var/log/messages содержит глобальный системный журнал, в котором пишутся сообщения с момента запуска системы, от ядра Linux, различных служб, обнаруженных устройствах, сетевых интерфейсов и много другого.
    /var/log/auth.log или /var/log/secure — информация об авторизации пользователей, включая удачные и неудачные попытки входа в систему, а также задействованные механизмы аутентификации.
    /var/log/dmesg — драйвера устройств. Одноименной командой можно просмотреть вывод содержимого файла. Размер журнала ограничен, когда файл достигнет своего предела, старые сообщения будут перезаписаны более новыми. Задав ключ --level= можно отфильтровать вывод по критерию значимости.

Поддерживаемые уровни журналирования (приоритеты):
   emerg - неиспользуется
   alert - высший
    crit
     err
    warn
  notice
    info
   debug

dmesg -l err



    /var/log/alternatives.log — Вывод программы update-alternatives, в котором находятся символические ссылки на команды или библиотеки по умолчанию.
    /var/log/anaconda.log — Записи, зарегистрированные во время установки системы.
    /var/log/audit — Записи, созданные службой аудита auditd.
    /var/log/boot.log — Информация, которая пишется при загрузке операционной системы.
    /var/log/cron — Отчет службы crond об исполняемых командах и сообщения от самих команд.
    /var/log/cups — Все, что связано с печатью и принтерами.
    /var/log/faillog — Неудачные попытки входа в систему. Очень полезно при проверке угроз в системе безопасности, хакерских атаках, попыток взлома методом перебора. Прочитать содержимое можно с помощью команды faillog.
    var/log/kern.log — Журнал содержит сообщения от ядра и предупреждения, которые могут быть полезны при устранении ошибок пользовательских модулей встроенных в ядро.
    /var/log/maillog/ или /var/log/mail.log — Журнал почтового сервера, используемого на ОС.
    /var/log/pm-powersave.log — Сообщения службы экономии заряда батареи.
    /var/log/samba/ — Логи файлового сервера Samba, который используется для доступа к общим папкам Windows и предоставления доступа пользователям Windows к общим папкам Linux.
    /var/log/spooler — Для представителей старой школы, содержит сообщения USENET. Чаще всего бывает пустым и заброшенным.
    /var/log/Xorg.0.log — Логи X сервера. Чаще всего бесполезны, но если в них есть строки начинающиеся с EE, то следует обратить на них внимание.


    /var/log/lastlog — Последняя сессия пользователей. Прочитать можно командой last.
    /var/log/tallylog — Аудит неудачных попыток входа в систему. Вывод на экран с помощью утилиты pam_tally2.
    /var/log/btmp — Еже один журнал записи неудачных попыток входа в систему. Просто так, на всякий случай, если вы еще не догадались где следует искать следы активности взломщиков.
    /var/log/utmp — Список входов пользователей в систему на данный момент.
    /var/log/wtmp — Еще один журнал записи входа пользователей в систему. Вывод на экран командой utmpdump.


    ~/.xsession-errors — Вывод stderr графических приложений X
    /var/log/syslog или /var/log/messages содержит глобальный системный журнал, в котором пишутся сообщения с момента запуска системы, от ядра Linux, различных служб, обнаруженных устройствах, сетевых интерфейсов и много другого.
    /var/log/auth.log или /var/log/secure — информация об авторизации пользователей, включая удачные и неудачные попытки входа в систему, а также задействованные механизмы аутентификации.
    /var/log/dmesg — драйвера устройств. Одноименной командой можно просмотреть вывод содержимого файла. Размер журнала ограничен, когда файл достигнет своего предела, старые сообщения будут перезаписаны более новыми. Задав ключ --level= можно отфильтровать вывод по критерию значимости.

Поддерживаемые уровни журналирования (приоритеты):
   emerg - неиспользуется
   alert - высший
    crit
     err
    warn
  notice
    info
   debug

dmesg -l err



----------------------------------------------------------------


    /var/log/alternatives.log — Вывод программы update-alternatives, в котором находятся символические ссылки на команды или библиотеки по умолчанию.
    /var/log/anaconda.log — Записи, зарегистрированные во время установки системы.
    /var/log/audit — Записи, созданные службой аудита auditd.
    /var/log/boot.log — Информация, которая пишется при загрузке операционной системы.
    /var/log/cron — Отчет службы crond об исполняемых командах и сообщения от самих команд.
    /var/log/cups — Все, что связано с печатью и принтерами.
    /var/log/faillog — Неудачные попытки входа в систему. Очень полезно при проверке угроз в системе безопасности, хакерских атаках, попыток взлома методом перебора. Прочитать содержимое можно с помощью команды faillog.
    var/log/kern.log — Журнал содержит сообщения от ядра и предупреждения, которые могут быть полезны при устранении ошибок пользовательских модулей встроенных в ядро.
    /var/log/maillog/ или /var/log/mail.log — Журнал почтового сервера, используемого на ОС.
    /var/log/pm-powersave.log — Сообщения службы экономии заряда батареи.
    /var/log/samba/ — Логи файлового сервера Samba, который используется для доступа к общим папкам Windows и предоставления доступа пользователям Windows к общим папкам Linux.
    /var/log/spooler — Для представителей старой школы, содержит сообщения USENET. Чаще всего бывает пустым и заброшенным.
    /var/log/Xorg.0.log — Логи X сервера. Чаще всего бесполезны, но если в них есть строки начинающиеся с EE, то следует обратить на них внимание.


    /var/log/lastlog — Последняя сессия пользователей. Прочитать можно командой last.
    /var/log/tallylog — Аудит неудачных попыток входа в систему. Вывод на экран с помощью утилиты pam_tally2.
    /var/log/btmp — Еже один журнал записи неудачных попыток входа в систему. Просто так, на всякий случай, если вы еще не догадались где следует искать следы активности взломщиков.
    /var/log/utmp — Список входов пользователей в систему на данный момент.
    /var/log/wtmp — Еще один журнал записи входа пользователей в систему. Вывод на экран командой utmpdump.


    ~/.xsession-errors — Вывод stderr графических приложений X11.
    ~/.xfce4-session.verbose-log — Сообщения рабочего стола XFCE4.

    Чем просматривать — lnav

less, tail


11.
    ~/.xfce4-session.verbose-log — Сообщения рабочего стола XFCE4.

    Чем просматривать — lnav

less, tail




----------------------------------------------------------------
logrotate

Проще удалить логи таким образом
sudo /G/sdel ndd /var/log

/etc/logrotate.conf
Тут можно поставить меньшие времена ротации
# weekly
daily
# rotate 4
# Полностью отключаем ротацию: пусть удаляет
rotate 0

Добавить для безопасного перезатирания файлов, однократное перезатирание
shred
shredcycles 1

Закомментировать
# include /etc/logrotate.d

/var/log/*
/var/log/*/*
/var/log/journal/*/*
# /var/log/syslog
# /var/log/*.log
# /var/log/*/*.log
{
    shred
    shredcycles 1
	daily
	rotate 0
}
